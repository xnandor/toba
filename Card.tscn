[gd_scene load_steps=14 format=1]

[ext_resource path="res://Card.gd" type="Script" id=1]
[ext_resource path="res://media/hikarif.png" type="Texture" id=2]
[ext_resource path="res://font/FontCharacterName.tres" type="DynamicFont" id=3]
[ext_resource path="res://media/pierce.png" type="Texture" id=4]
[ext_resource path="res://font/FontCharacterTagLine.tres" type="DynamicFont" id=5]
[ext_resource path="res://media/hp.png" type="Texture" id=6]
[ext_resource path="res://font/FontCharacterStat.tres" type="DynamicFont" id=7]
[ext_resource path="res://media/range.png" type="Texture" id=8]
[ext_resource path="res://media/move.png" type="Texture" id=9]
[ext_resource path="res://media/purse.png" type="Texture" id=10]
[ext_resource path="res://media/thermal.png" type="Texture" id=11]

[sub_resource type="CanvasItemShader" id=1]

_code = {
"fragment": "float edge = 0.0;
float water = 0.0;
float a = 0.04;      // amplitude
float n = 4.0;      // number of fans
float o = TIME/2.0; // offset
float alpha = 1.0;
float u = 1.3*UV.x - 0.15;
float v = 1.3*UV.y - 0.15;
float direction = 1;
float fullW = u*n+o;
float w = mod(fullW, 2.0); // wave function
if (w > 1.0) {
	direction = -1;
	w = 2.0-w;
}
//a = a*(0.5*sin(3*(u)*3.1459)+0.5);
float newv = v+a*(w);
vec2 uv = vec2(u, newv);
vec2 wave = vec2(0.03*sin(9.2*u + TIME), 0.07*sin(22.2*u + TIME));
if (uv.y > 1.0) {
	if (alpha > 0.0) {
		alpha = 0.8;
	}
	water = 1.0;
}
if ((UV.y < 1.0 && UV.y > 0.8) && (UV.x < 0.115 || UV.x > 1-0.115)) {water = 1.0;}
if (uv.x > 1.0) {
	alpha = 0.0;
	if (water > 0.0) {
		alpha = 11-10*uv.x;
		alpha = pow(alpha, 4);
	}
	edge = 1.0;
}
if (uv.x < 0.0) {
	alpha = 0.0;
	if (water > 0) {
		alpha = 1+10*uv.x;
		alpha = pow(alpha, 4);
	}
	edge = 1.0;
}
if (water > 0) {
	uv = vec2(wave.x+u, wave.y+(2.0-newv));
}
if (uv.y < 0.0) {alpha = 0.0;}
if (uv.y > 1.0) {edge = 0.0;}
vec4 c = tex(TEXTURE, uv); // final color pre lighting
// Lighting
color waterColor = color(0.5, 1.2, 1.5, 1.0);
vec4 fluid = vec4(1.0, 1.0, 1.0, 1.0);
if (water > 0) {
	fluid = waterColor;
	float center = 1-2*pow(2*UV.x-1, 2.9);
	float strength = 32;
	float offset = 0.77;
	float bottom = 1-strength*pow(UV.y-offset, 1.8);
	fluid.a = 0.5*(center+bottom);
}
float cornerD = w;
float cornerShadow = 0.1*pow(cornerD, 8);
//if (edge > 0.0) {cornerShadow = 1.0;}
vec3 shadow = vec3(cornerShadow);
float direct = 0.0;
if (direction > 0) {direct = -0.1;}
if (direction < 0) {direct = 0.1;}
vec3 light = vec3(direct)+vec3(1.0-a);
c = fluid*vec4((c.rgb-shadow)*(light), alpha);
COLOR = c;",
"fragment_ofs": 0,
"light": "",
"light_ofs": 0,
"vertex": "",
"vertex_ofs": 0
}

[sub_resource type="CanvasItemMaterial" id=2]

shader/shader = SubResource( 1 )
shader/shading_mode = 0

[node name="Card" type="Control"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 1.0
margin/top = 1.0
margin/right = 401.0
margin/bottom = 601.0
script/script = ExtResource( 1 )
__meta__ = {
"_edit_lock_": true
}
character = null

[node name="Background" type="Control" parent="."]

anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 0.0
margin/bottom = 0.0
__meta__ = {
"_edit_lock_": true
}

[node name="ColorFrameBorder" type="ColorFrame" parent="Background"]

anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 0.0
margin/bottom = 0.0
color = Color( 0.484375, 0.484375, 0.484375, 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="ColorFrame" type="ColorFrame" parent="Background"]

anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 2.0
margin/bottom = 2.0
color = Color( 0.84375, 0.84375, 0.84375, 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="Image" type="Control" parent="."]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 400.0
margin/bottom = 300.0
__meta__ = {
"_edit_lock_": true
}

[node name="TextureFrame" type="TextureFrame" parent="Image"]

material/material = SubResource( 2 )
anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 0.0
margin/bottom = 0.0
texture = ExtResource( 2 )
stretch_mode = 0
__meta__ = {
"_edit_lock_": true
}

[node name="Foreground" type="Container" parent="."]

anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 0.0
margin/bottom = 0.0
__meta__ = {
"_edit_lock_": true
}

[node name="TitleBack" type="ColorFrame" parent="Foreground"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 20.0
margin/top = 16.0
margin/right = 220.0
margin/bottom = 50.0
color = Color( 0.8125, 0.639526, 0.120605, 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="TitleFront" type="ColorFrame" parent="Foreground/TitleBack"]

anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 3.0
margin/top = 3.0
margin/right = -3.0
margin/bottom = -3.0
color = Color( 0.882812, 0.803605, 0.15863, 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="Title" type="Label" parent="Foreground/TitleBack/TitleFront"]

anchor/right = 1
anchor/bottom = 1
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 0.0
margin/top = 0.0
margin/right = 0.0
margin/bottom = 0.0
custom_fonts/font = ExtResource( 3 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Hikari"
align = 1
valign = 1
clip_text = true
uppercase = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1
__meta__ = {
"_edit_lock_": true
}

[node name="PrimaryType" type="TextureFrame" parent="Foreground"]

rect/scale = Vector2( 0.4, 0.4 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 331.0
margin/top = 15.0
margin/right = 431.0
margin/bottom = 115.0
texture = ExtResource( 4 )
stretch_mode = 0
__meta__ = {
"_edit_lock_": true
}

[node name="Container" type="Container" parent="Foreground"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 300.0
margin/right = 400.0
margin/bottom = 600.0
__meta__ = {
"_edit_lock_": true
}

[node name="MainInfo" type="Container" parent="Foreground/Container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 40.0
margin/bottom = 40.0

[node name="Tagline" type="Label" parent="Foreground/Container/MainInfo"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 120.0
margin/top = -13.0
margin/right = 300.0
margin/bottom = 12.0
custom_fonts/font = ExtResource( 5 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Undercover Support"
align = 1
valign = 1
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="HPIcon" type="TextureFrame" parent="Foreground/Container/MainInfo"]

rect/scale = Vector2( 0.3, 0.3 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 39.0
margin/top = 23.0
margin/right = 139.0
margin/bottom = 123.0
texture = ExtResource( 6 )
stretch_mode = 0

[node name="HP" type="Label" parent="Foreground/Container/MainInfo"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 67.0
margin/top = 23.0
margin/right = 111.0
margin/bottom = 54.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "80"
align = 1
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="RangeIcon" type="TextureFrame" parent="Foreground/Container/MainInfo"]

rect/scale = Vector2( 0.3, 0.3 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 125.0
margin/top = 24.0
margin/right = 225.0
margin/bottom = 124.0
texture = ExtResource( 8 )
stretch_mode = 0

[node name="Range" type="Label" parent="Foreground/Container/MainInfo"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 154.0
margin/top = 24.0
margin/right = 199.0
margin/bottom = 55.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "1/2"
align = 1
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="MoveIcon" type="TextureFrame" parent="Foreground/Container/MainInfo"]

rect/scale = Vector2( 0.3, 0.3 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 210.0
margin/top = 23.0
margin/right = 310.0
margin/bottom = 123.0
texture = ExtResource( 9 )
stretch_mode = 0

[node name="Move" type="Label" parent="Foreground/Container/MainInfo"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 241.0
margin/top = 23.0
margin/right = 287.0
margin/bottom = 54.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "1"
align = 1
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="ItemsIcon" type="TextureFrame" parent="Foreground/Container/MainInfo"]

rect/scale = Vector2( 0.3, 0.3 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 287.0
margin/top = 22.0
margin/right = 387.0
margin/bottom = 122.0
texture = ExtResource( 10 )
stretch_mode = 0

[node name="Items" type="Label" parent="Foreground/Container/MainInfo"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 315.0
margin/top = 22.0
margin/right = 356.0
margin/bottom = 53.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "1"
align = 1
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="AttackFrame" type="ColorFrame" parent="Foreground/Container"]

editor/display_folded = true
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 44.0
margin/top = 80.0
margin/right = 347.0
margin/bottom = 113.0
color = Color( 0.800781, 0.800781, 0.800781, 1 )

[node name="Label" type="Label" parent="Foreground/Container/AttackFrame"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 233.0
margin/top = -24.0
margin/right = 303.0
margin/bottom = 7.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Attack"
align = 2
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="Amount" type="Label" parent="Foreground/Container/AttackFrame"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 210.0
margin/top = 2.0
margin/right = 280.0
margin/bottom = 33.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "12 / 6"
align = 2
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="Type2" type="TextureFrame" parent="Foreground/Container/AttackFrame"]

rect/rotation = 45.0
rect/scale = Vector2( 0.4, 0.4 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = -26.0
margin/top = 14.0
margin/right = 74.0
margin/bottom = 114.0
texture = ExtResource( 4 )
stretch_mode = 0

[node name="Type1" type="TextureFrame" parent="Foreground/Container/AttackFrame"]

rect/rotation = 45.0
rect/scale = Vector2( 0.4, 0.4 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 13.0
margin/top = 14.0
margin/right = 113.0
margin/bottom = 114.0
texture = ExtResource( 4 )
stretch_mode = 0

[node name="DefenceFrame" type="ColorFrame" parent="Foreground/Container"]

editor/display_folded = true
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 45.0
margin/top = 142.0
margin/right = 348.0
margin/bottom = 175.0
color = Color( 0.800781, 0.800781, 0.800781, 1 )

[node name="Label" type="Label" parent="Foreground/Container/DefenceFrame"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 233.0
margin/top = -23.0
margin/right = 303.0
margin/bottom = 8.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Defence"
align = 2
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="Amount" type="Label" parent="Foreground/Container/DefenceFrame"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 0
margin/left = 207.0
margin/top = 0.0
margin/right = 277.0
margin/bottom = 31.0
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "5"
align = 2
valign = 1
clip_text = true
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1

[node name="Type1" type="TextureFrame" parent="Foreground/Container/DefenceFrame"]

rect/rotation = 45.0
rect/scale = Vector2( 0.4, 0.4 )
focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = -9.0
margin/top = 16.0
margin/right = 91.0
margin/bottom = 116.0
texture = ExtResource( 11 )
stretch_mode = 0

[node name="AbilitiesFrame" type="ColorFrame" parent="Foreground/Container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 19.0
margin/top = 203.0
margin/right = 366.0
margin/bottom = 274.0
color = Color( 0.839844, 0.839844, 0.839844, 1 )

[node name="Ability1" type="ColorFrame" parent="Foreground/Container/AbilitiesFrame"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 32.0
margin/top = 1.0
margin/right = 101.0
margin/bottom = 70.0
color = Color( 0.42009, 0.667969, 0.63892, 1 )

[node name="Ability2" type="ColorFrame" parent="Foreground/Container/AbilitiesFrame"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 251.0
margin/top = 1.0
margin/right = 320.0
margin/bottom = 70.0
color = Color( 0.761719, 0.624964, 0.431442, 1 )

[node name="Ability3" type="ColorFrame" parent="Foreground/Container/AbilitiesFrame"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 178.0
margin/top = 1.0
margin/right = 247.0
margin/bottom = 70.0
color = Color( 0.730469, 0.482224, 0.709135, 1 )

[node name="Ability4" type="ColorFrame" parent="Foreground/Container/AbilitiesFrame"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 105.0
margin/top = 1.0
margin/right = 174.0
margin/bottom = 70.0
color = Color( 0.48793, 0.639337, 0.816406, 1 )


